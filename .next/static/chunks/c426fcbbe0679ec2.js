(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,47573,e=>{e.v({actions:"SignInPage-module__QK7xoW__actions",error:"SignInPage-module__QK7xoW__error",form:"SignInPage-module__QK7xoW__form",formGroup:"SignInPage-module__QK7xoW__formGroup",formTitle:"SignInPage-module__QK7xoW__formTitle",input:"SignInPage-module__QK7xoW__input",mainContent:"SignInPage-module__QK7xoW__mainContent",submitButton:"SignInPage-module__QK7xoW__submitButton"})},70956,e=>{"use strict";var n=e.i(43476),i=e.i(932),o=e.i(71645),t=e.i(18566),a=e.i(54616),r=e.i(19152),s=e.i(6406),l=e.i(47573);function m(){let e,m,u,d,c,_,g,f,p,h,x=(0,i.c)(20),S=(0,t.useRouter)(),{setUser:b}=(0,s.useAuthStore)(),[P,j]=(0,o.useState)(null);x[0]!==S||x[1]!==b?(e=e=>{b(e.user),S.push("/profile")},x[0]=S,x[1]=b,x[2]=e):e=x[2],x[3]===Symbol.for("react.memo_cache_sentinel")?(m=e=>{j(e.response?.data?.message||"An unexpected error occurred during login.")},x[3]=m):m=x[3],x[4]!==e?(u={mutationFn:r.login,onSuccess:e,onError:m},x[4]=e,x[5]=u):u=x[5];let K=(0,a.useMutation)(u);x[6]!==K?(d=e=>{e.preventDefault(),j(null);let n=new FormData(e.currentTarget),i=n.get("email"),o=n.get("password");i&&o?K.mutate({email:i,password:o}):j("Email and password are required.")},x[6]=K,x[7]=d):d=x[7];let N=d;x[8]===Symbol.for("react.memo_cache_sentinel")?(c=(0,n.jsx)("h1",{className:l.default.formTitle,children:"Sign in"}),x[8]=c):c=x[8],x[9]===Symbol.for("react.memo_cache_sentinel")?(_=(0,n.jsxs)("div",{className:l.default.formGroup,children:[(0,n.jsx)("label",{htmlFor:"email",children:"Email"}),(0,n.jsx)("input",{id:"email",type:"email",name:"email",className:l.default.input,required:!0})]}),x[9]=_):_=x[9],x[10]===Symbol.for("react.memo_cache_sentinel")?(g=(0,n.jsxs)("div",{className:l.default.formGroup,children:[(0,n.jsx)("label",{htmlFor:"password",children:"Password"}),(0,n.jsx)("input",{id:"password",type:"password",name:"password",className:l.default.input,required:!0})]}),x[10]=g):g=x[10];let w=K.isPending?"Logging in...":"Log in";return x[11]!==K.isPending||x[12]!==w?(f=(0,n.jsx)("div",{className:l.default.actions,children:(0,n.jsx)("button",{type:"submit",className:l.default.submitButton,disabled:K.isPending,children:w})}),x[11]=K.isPending,x[12]=w,x[13]=f):f=x[13],x[14]!==P?(p=P&&(0,n.jsx)("p",{className:l.default.error,children:P}),x[14]=P,x[15]=p):p=x[15],x[16]!==N||x[17]!==f||x[18]!==p?(h=(0,n.jsx)("main",{className:l.default.mainContent,children:(0,n.jsxs)("form",{className:l.default.form,onSubmit:N,children:[c,_,g,f,p]})}),x[16]=N,x[17]=f,x[18]=p,x[19]=h):h=x[19],h}e.s(["default",()=>m])}]);