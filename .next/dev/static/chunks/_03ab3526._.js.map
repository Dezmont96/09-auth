{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/project%20groop/09-auth/lib/store/authStore.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport type { User } from '@/types/user';\r\n\r\ninterface AuthState {\r\n  user: User | null;\r\n  isAuthenticated: boolean;\r\n  setUser: (user: User | null) => void;\r\n  clearIsAuthenticated: () => void;\r\n}\r\n\r\nexport const useAuthStore = create<AuthState>()((set) => ({\r\n  user: null,\r\n  isAuthenticated: false,\r\n  setUser: (user) => set({ user, isAuthenticated: !!user }),\r\n  clearIsAuthenticated: () => set({ user: null, isAuthenticated: false }),\r\n}));"],"names":[],"mappings":";;;;AAAA;;AAUO,MAAM,eAAe,IAAA,qJAAM,IAAc,CAAC,MAAQ,CAAC;QACxD,MAAM;QACN,iBAAiB;QACjB,SAAS,CAAC,OAAS,IAAI;gBAAE;gBAAM,iBAAiB,CAAC,CAAC;YAAK;QACvD,sBAAsB,IAAM,IAAI;gBAAE,MAAM;gBAAM,iBAAiB;YAAM;IACvE,CAAC","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///E:/project%20groop/09-auth/lib/api/api.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst baseURL = (process.env.NEXT_PUBLIC_API_URL || '') + '/api';\r\n\r\nconst api = axios.create({\r\n  baseURL,\r\n  withCredentials: true,\r\n});\r\n\r\nexport default api;"],"names":[],"mappings":";;;;AAEiB;AAFjB;;AAEA,MAAM,UAAU,CAAC,6DAAmC,EAAE,IAAI;AAE1D,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACvB;IACA,iBAAiB;AACnB;uCAEe","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///E:/project%20groop/09-auth/lib/api/clientApi.ts"],"sourcesContent":["import api from './api';\r\nimport type { Note, CreateNotePayload } from '@/types/note';\r\nimport type { User } from '@/types/user';\r\nimport type { AuthRequest, AuthResponse, UpdateUserPayload } from './types';\r\n\r\n// --- Note API ---\r\nexport const fetchNotes = async (params: { page?: number; search?: string; tag?: string } = {}) => {\r\n  const { page = 1, search = '', tag } = params;\r\n  const response = await api.get('/notes', { params: { page, search, perPage: 12, ...(tag && { tag }) } });\r\n  return response.data;\r\n};\r\n\r\nexport const fetchNoteById = async (noteId: string): Promise<Note> => {\r\n  const response = await api.get(`/notes/${noteId}`);\r\n  return response.data;\r\n};\r\n\r\nexport const createNote = async (noteData: CreateNotePayload): Promise<Note> => {\r\n  const response = await api.post('/notes', noteData);\r\n  return response.data;\r\n};\r\n\r\nexport const deleteNote = async (noteId: string): Promise<Note> => {\r\n  const response = await api.delete(`/notes/${noteId}`);\r\n  return response.data;\r\n};\r\n\r\n// --- Auth API ---\r\nexport const register = async (credentials: AuthRequest): Promise<AuthResponse> => {\r\n  const response = await api.post('/auth/register', credentials);\r\n  return response.data;\r\n};\r\n\r\nexport const login = async (credentials: AuthRequest): Promise<AuthResponse> => {\r\n  const response = await api.post('/auth/login', credentials);\r\n  return response.data;\r\n};\r\n\r\nexport const logout = async (): Promise<void> => {\r\n  await api.post('/auth/logout');\r\n};\r\n\r\nexport const checkSession = async (): Promise<AuthResponse> => {\r\n  const response = await api.get('/auth/session');\r\n  return response.data;\r\n};\r\n\r\n// --- User API ---\r\nexport const getMe = async (): Promise<User> => {\r\n  const response = await api.get('/users/me');\r\n  return response.data;\r\n};\r\n\r\nexport const updateMe = async (userData: UpdateUserPayload): Promise<User> => {\r\n  const response = await api.patch('/users/me', userData);\r\n  return response.data;\r\n};"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;;AAMO,MAAM,aAAa,OAAO,SAA2D,CAAC,CAAC;IAC5F,MAAM,EAAE,OAAO,CAAC,EAAE,SAAS,EAAE,EAAE,GAAG,EAAE,GAAG;IACvC,MAAM,WAAW,MAAM,+HAAG,CAAC,GAAG,CAAC,UAAU;QAAE,QAAQ;YAAE;YAAM;YAAQ,SAAS;YAAI,GAAI,OAAO;gBAAE;YAAI,CAAC;QAAE;IAAE;IACtG,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,gBAAgB,OAAO;IAClC,MAAM,WAAW,MAAM,+HAAG,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,QAAQ;IACjD,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,WAAW,MAAM,+HAAG,CAAC,IAAI,CAAC,UAAU;IAC1C,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,WAAW,MAAM,+HAAG,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,QAAQ;IACpD,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,WAAW,OAAO;IAC7B,MAAM,WAAW,MAAM,+HAAG,CAAC,IAAI,CAAC,kBAAkB;IAClD,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,QAAQ,OAAO;IAC1B,MAAM,WAAW,MAAM,+HAAG,CAAC,IAAI,CAAC,eAAe;IAC/C,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,SAAS;IACpB,MAAM,+HAAG,CAAC,IAAI,CAAC;AACjB;AAEO,MAAM,eAAe;IAC1B,MAAM,WAAW,MAAM,+HAAG,CAAC,GAAG,CAAC;IAC/B,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,QAAQ;IACnB,MAAM,WAAW,MAAM,+HAAG,CAAC,GAAG,CAAC;IAC/B,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,WAAW,OAAO;IAC7B,MAAM,WAAW,MAAM,+HAAG,CAAC,KAAK,CAAC,aAAa;IAC9C,OAAO,SAAS,IAAI;AACtB","debugId":null}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/AuthNavigation/AuthNavigation.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"logoutButton\": \"AuthNavigation-module__DN8toa__logoutButton\",\n  \"navigationItem\": \"AuthNavigation-module__DN8toa__navigationItem\",\n  \"navigationLink\": \"AuthNavigation-module__DN8toa__navigationLink\",\n  \"userEmail\": \"AuthNavigation-module__DN8toa__userEmail\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["E:/project groop/09-auth/components/AuthNavigation/AuthNavigation.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { useAuthStore } from '@/lib/store/authStore';\r\nimport { logout } from '@/lib/api/clientApi';\r\nimport css from './AuthNavigation.module.css';\r\n\r\nexport default function AuthNavigation() {\r\n  const router = useRouter();\r\n  const queryClient = useQueryClient();\r\n  const { isAuthenticated, user, clearIsAuthenticated } = useAuthStore();\r\n\r\n  const mutation = useMutation({\r\n    mutationFn: logout,\r\n    onSuccess: () => {\r\n      clearIsAuthenticated();\r\n      queryClient.clear(); \r\n      router.push('/sign-in');\r\n    },\r\n    onError: (error: any) => {\r\n      console.error('Logout failed:', error);\r\n      clearIsAuthenticated();\r\n      queryClient.clear();\r\n      router.push('/sign-in');\r\n    }\r\n  });\r\n\r\n  return (\r\n    <>\r\n      {isAuthenticated && user ? (\r\n        <>\r\n          <li className={css.navigationItem}>\r\n            <Link href=\"/profile\" className={css.navigationLink}>\r\n              Profile\r\n            </Link>\r\n          </li>\r\n          <li className={css.navigationItem}>\r\n            <p className={css.userEmail}>{user.email}</p>\r\n            <button\r\n              className={css.logoutButton}\r\n              onClick={() => mutation.mutate()}\r\n              disabled={mutation.isPending}\r\n            >\r\n              Logout\r\n            </button>\r\n          </li>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <li className={css.navigationItem}>\r\n            <Link href=\"/sign-in\" className={css.navigationLink}>\r\n              Login\r\n            </Link>\r\n          </li>\r\n          <li className={css.navigationItem}>\r\n            <Link href=\"/sign-up\" className={css.navigationLink}>\r\n              Sign up\r\n            </Link>\r\n          </li>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}"],"names":["c","_c","Link","useRouter","useMutation","useQueryClient","useAuthStore","logout","css","AuthNavigation","$","$i","Symbol","for","router","queryClient","isAuthenticated","user","clearIsAuthenticated","t0","mutationFn","onSuccess","clear","push","onError","error","console","mutation","t1","navigationItem","navigationLink","userEmail","email","logoutButton","AuthNavigation[<button>.onClick]","mutate","isPending"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 312, "column": 0}, "map": {"version":3,"sources":["E:/project groop/09-auth/components/TanStackProvider/TanStackProvider.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\r\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools';\r\nimport { useState } from 'react';\r\n\r\ninterface TanStackProviderProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst TanStackProvider: React.FC<TanStackProviderProps> = ({ children }) => {\r\n  const [queryClient] = useState(() => new QueryClient({\r\n    defaultOptions: {\r\n      queries: {\r\n        staleTime: 60 * 1000,\r\n        refetchOnWindowFocus: false,\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      {children}\r\n      <ReactQueryDevtools initialIsOpen={false} />\r\n    </QueryClientProvider>\r\n  );\r\n};\r\n\r\nexport default TanStackProvider;"],"names":["c","_c","QueryClient","QueryClientProvider","ReactQueryDevtools","useState","TanStackProviderProps","children","React","ReactNode","TanStackProvider","FC","t0","$","$i","Symbol","for","queryClient","_temp","t1","t2","defaultOptions","queries","staleTime","refetchOnWindowFocus"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,SAASC,WAAW,EAAEC,mBAAmB,QAAQ,uBAAuB;;AACxE,SAASC,kBAAkB,QAAQ,gCAAgC;AACnE,SAASC,QAAQ,QAAQ,OAAO;;;AAJhC,YAAY;;;;;AAUZ,0BAA0DO,EAAA;;IAAA,MAAAC,CAAA,OAAAZ,gLAAA,EAAA;IAAA,IAAAY,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAC,MAAA,EAAAN,QAAAA,EAAA,GAAAK,EAAY;IACrE,MAAA,CAAAK,WAAA,CAAA,OAAsBZ,yKAAQ,EAACa,KAQjC,CAAC;IAAC,IAAAC,EAAA;IAAA,IAAAN,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAKIG,EAAA,iBAAA,6LAAC,6MAAkB;YAAgB,aAAK,CAAL,CAAA,KAAI,CAAC,GAAI;;;;;;QAAAN,CAAA,CAAA,EAAA,GAAAM,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAN,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAO,EAAA;IAAA,IAAAP,CAAA,CAAA,EAAA,KAAAN,QAAA,IAAAM,CAAA,CAAA,EAAA,KAAAI,WAAA,EAAA;QAF9CG,EAAA,iBAAA,6LAAC,gNAAmB;YAASH,MAAW,CAAXA,CAAAA,WAAU,CAAC,CACrCV;;gBAAAA,QAAO,CACR;gBAAAY,EAA2C,CAC7C,EAHC,mBAAmB,CAGE;;;;;;;QAAAN,CAAA,CAAA,EAAA,GAAAN,QAAA;QAAAM,CAAA,CAAA,EAAA,GAAAI,WAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAO,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAP,CAAA,CAAA,EAAA;IAAA;IAAA,OAHtBO,EAGsB;AAAA,CAEzB;;KAjBKV,gBAAgB,EAAEF,KAAK,CAACG,EAAE,CAACL,qBAAqB,CAAC;uCAmBxCI,gBAAgB;AAnB2B,SAAAQ,MAAA;IAAA,OACnB,IAAIhB,+LAAW,CAAC;QAAAmB,cAAA,EACnC;YAAAC,OAAA,EACL;gBAAAC,SAAA,EACI,KAAS;gBAAAC,oBAAA,EACE;YACxB;QACF;IACF,CAAC,CAAC;AAAA","ignoreList":[],"debugId":null}},
    {"offset": {"line": 395, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/Loader/Loader.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"loader\": \"Loader-module__ciLxHG__loader\",\n  \"loaderWrapper\": \"Loader-module__ciLxHG__loaderWrapper\",\n  \"spin\": \"Loader-module__ciLxHG__spin\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 404, "column": 0}, "map": {"version":3,"sources":["E:/project groop/09-auth/components/Loader/Loader.tsx"],"sourcesContent":["'use client';\r\n\r\nimport css from './Loader.module.css';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className={css.loaderWrapper}>\r\n      <div className={css.loader}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;"],"names":["c","_c","css","Loader","$","$i","Symbol","for","t0","loaderWrapper","loader"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,OAAOC,GAAG,MAAM,qBAAqB;AAFrC,YAAY;;;;AAIZ,eAAeC,CAAA;IAAA,MAAAC,CAAA,OAAAH,gLAAA,EAAA;IAAA,IAAAG,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAA,IAAAI,EAAA;IAAA,IAAAJ,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAEXC,EAAA,iBAAA,6LAAA,GAEM;YAFU,SAAiB,CAAjB,CAAAN,wJAAG,CAAAO,aAAa,CAAC;oCAC/B,6LAAA,GAAkC;gBAAlB,SAAU,CAAV,CAAAP,wJAAG,CAAAQ,MAAM,CAAC,GAC5B,EAFA,GAEM;;;;;;;;;;;QAAAN,CAAA,CAAA,EAAA,GAAAI,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAJ,CAAA,CAAA,EAAA;IAAA;IAAA,OAFNI,EAEM;AAAA,CAET;KANKL,MAAM;uCAQGA,MAAM","ignoreList":[],"debugId":null}},
    {"offset": {"line": 456, "column": 0}, "map": {"version":3,"sources":["E:/project groop/09-auth/components/AuthProvider/AuthProvider.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect } from 'react';\r\nimport { usePathname, useRouter } from 'next/navigation';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { checkSession } from '@/lib/api/clientApi';\r\nimport { useAuthStore } from '@/lib/store/authStore';\r\nimport Loader from '../Loader/Loader';\r\n\r\nconst privateRoutes = ['/profile', '/notes'];\r\nconst authRoutes = ['/sign-in', '/sign-up'];\r\n\r\nexport default function AuthProvider({ children }: { children: React.ReactNode }) {\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n  const { isAuthenticated, setUser, clearIsAuthenticated } = useAuthStore();\r\n  \r\n  const isPrivateRoute = privateRoutes.some(route => pathname.startsWith(route));\r\n  const isAuthRoute = authRoutes.includes(pathname);\r\n\r\n  const { data, isError, isSuccess, isLoading } = useQuery({\r\n    queryKey: ['session'],\r\n    queryFn: checkSession,\r\n    enabled: !isAuthenticated, \r\n    retry: false,\r\n    refetchOnWindowFocus: false,\r\n    refetchOnMount: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (isSuccess && data?.user) {\r\n      setUser(data.user);\r\n    } else if (isSuccess && !data?.user) {\r\n        clearIsAuthenticated();\r\n    } else if (isError) {\r\n        clearIsAuthenticated();\r\n    }\r\n  }, [isSuccess, isError, data, setUser, clearIsAuthenticated]);\r\n  \r\n  useEffect(() => {\r\n    if (!isLoading) {\r\n        if (isPrivateRoute && !isAuthenticated) {\r\n            router.replace('/sign-in');\r\n        } else if (isAuthRoute && isAuthenticated) {\r\n            router.replace('/profile');\r\n        }\r\n    }\r\n  }, [isLoading, isAuthenticated, isPrivateRoute, isAuthRoute, router]);\r\n\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}"],"names":["c","_c","useEffect","usePathname","useRouter","useQuery","checkSession","useAuthStore","Loader","privateRoutes","authRoutes","AuthProvider","t0","$","$i","Symbol","for","children","pathname","router","isAuthenticated","setUser","clearIsAuthenticated","t1","some","route","startsWith","isPrivateRoute","t2","includes","isAuthRoute","t3","t4","t5","queryKey","queryFn","enabled","retry","refetchOnWindowFocus","refetchOnMount","data","isError","isSuccess","isLoading","t6","t7","AuthProvider[useEffect()]","user","t8","t9","replace","t10"],"mappings":"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","ignoreList":[],"debugId":null}}]
}