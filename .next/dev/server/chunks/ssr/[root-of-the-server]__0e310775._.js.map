{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///E:/project%20groop/09-auth/lib/store/authStore.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport type { User } from '@/types/user';\r\n\r\ninterface AuthState {\r\n  user: User | null;\r\n  isAuthenticated: boolean;\r\n  setUser: (user: User | null) => void;\r\n  clearIsAuthenticated: () => void;\r\n}\r\n\r\nexport const useAuthStore = create<AuthState>()((set) => ({\r\n  user: null,\r\n  isAuthenticated: false,\r\n  setUser: (user) => set({ user, isAuthenticated: !!user }),\r\n  clearIsAuthenticated: () => set({ user: null, isAuthenticated: false }),\r\n}));"],"names":[],"mappings":";;;;AAAA;;AAUO,MAAM,eAAe,IAAA,kJAAM,IAAc,CAAC,MAAQ,CAAC;QACxD,MAAM;QACN,iBAAiB;QACjB,SAAS,CAAC,OAAS,IAAI;gBAAE;gBAAM,iBAAiB,CAAC,CAAC;YAAK;QACvD,sBAAsB,IAAM,IAAI;gBAAE,MAAM;gBAAM,iBAAiB;YAAM;IACvE,CAAC","debugId":null}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["file:///E:/project%20groop/09-auth/lib/api/api.ts"],"sourcesContent":["import axios from 'axios';\r\nimport Cookies from 'js-cookie'; \r\n\r\nconst baseURL = (process.env.NEXT_PUBLIC_API_URL || '') + '/api';\r\n\r\nconst api = axios.create({\r\n  baseURL,\r\n  withCredentials: true,\r\n});\r\n\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    if (typeof window !== 'undefined') {\r\n      const accessToken = Cookies.get('accessToken');\r\n      if (accessToken) {\r\n        config.headers.Authorization = `Bearer ${accessToken}`;\r\n      }\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,UAAU,CAAC,6DAAmC,EAAE,IAAI;AAE1D,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB;IACA,iBAAiB;AACnB;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC;;IAMA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///E:/project%20groop/09-auth/lib/api/clientApi.ts"],"sourcesContent":["import api from './api';\r\nimport type { Note, CreateNotePayload } from '@/types/note';\r\nimport type { User } from '@/types/user';\r\nimport type { AuthRequest, AuthResponse, UpdateUserPayload } from './types';\r\n\r\n// --- Note API ---\r\nexport const fetchNotes = async (params: { page?: number; search?: string; tag?: string } = {}) => {\r\n  const { page = 1, search = '', tag } = params;\r\n  const response = await api.get('/notes', { params: { page, search, perPage: 12, ...(tag && { tag }) } });\r\n  return response.data;\r\n};\r\n\r\nexport const fetchNoteById = async (noteId: string): Promise<Note> => {\r\n  const response = await api.get(`/notes/${noteId}`);\r\n  return response.data;\r\n};\r\n\r\nexport const createNote = async (noteData: CreateNotePayload): Promise<Note> => {\r\n  const response = await api.post('/notes', noteData);\r\n  return response.data;\r\n};\r\n\r\nexport const deleteNote = async (noteId: string): Promise<Note> => {\r\n  const response = await api.delete(`/notes/${noteId}`);\r\n  return response.data;\r\n};\r\n\r\n// --- Auth API ---\r\nexport const register = async (credentials: AuthRequest): Promise<AuthResponse> => {\r\n  const response = await api.post('/auth/register', credentials);\r\n  return response.data;\r\n};\r\n\r\nexport const login = async (credentials: AuthRequest): Promise<AuthResponse> => {\r\n  const response = await api.post('/auth/login', credentials);\r\n  return response.data;\r\n};\r\n\r\nexport const logout = async (): Promise<void> => {\r\n  await api.post('/auth/logout');\r\n};\r\n\r\nexport const checkSession = async (): Promise<AuthResponse> => {\r\n  const response = await api.get('/auth/session');\r\n  return response.data;\r\n};\r\n\r\n// --- User API ---\r\nexport const getMe = async (): Promise<User> => {\r\n  const response = await api.get('/users/me');\r\n  return response.data;\r\n};\r\n\r\nexport const updateMe = async (userData: UpdateUserPayload): Promise<User> => {\r\n  const response = await api.patch('/users/me', userData);\r\n  return response.data;\r\n};"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;;AAMO,MAAM,aAAa,OAAO,SAA2D,CAAC,CAAC;IAC5F,MAAM,EAAE,OAAO,CAAC,EAAE,SAAS,EAAE,EAAE,GAAG,EAAE,GAAG;IACvC,MAAM,WAAW,MAAM,4HAAG,CAAC,GAAG,CAAC,UAAU;QAAE,QAAQ;YAAE;YAAM;YAAQ,SAAS;YAAI,GAAI,OAAO;gBAAE;YAAI,CAAC;QAAE;IAAE;IACtG,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,gBAAgB,OAAO;IAClC,MAAM,WAAW,MAAM,4HAAG,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,QAAQ;IACjD,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,WAAW,MAAM,4HAAG,CAAC,IAAI,CAAC,UAAU;IAC1C,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,WAAW,MAAM,4HAAG,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,QAAQ;IACpD,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,WAAW,OAAO;IAC7B,MAAM,WAAW,MAAM,4HAAG,CAAC,IAAI,CAAC,kBAAkB;IAClD,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,QAAQ,OAAO;IAC1B,MAAM,WAAW,MAAM,4HAAG,CAAC,IAAI,CAAC,eAAe;IAC/C,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,SAAS;IACpB,MAAM,4HAAG,CAAC,IAAI,CAAC;AACjB;AAEO,MAAM,eAAe;IAC1B,MAAM,WAAW,MAAM,4HAAG,CAAC,GAAG,CAAC;IAC/B,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,QAAQ;IACnB,MAAM,WAAW,MAAM,4HAAG,CAAC,GAAG,CAAC;IAC/B,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,WAAW,OAAO;IAC7B,MAAM,WAAW,MAAM,4HAAG,CAAC,KAAK,CAAC,aAAa;IAC9C,OAAO,SAAS,IAAI;AACtB","debugId":null}},
    {"offset": {"line": 229, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/AuthNavigation/AuthNavigation.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"logoutButton\": \"AuthNavigation-module__DN8toa__logoutButton\",\n  \"navigationItem\": \"AuthNavigation-module__DN8toa__navigationItem\",\n  \"navigationLink\": \"AuthNavigation-module__DN8toa__navigationLink\",\n  \"userEmail\": \"AuthNavigation-module__DN8toa__userEmail\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file:///E:/project%20groop/09-auth/components/AuthNavigation/AuthNavigation.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { useAuthStore } from '@/lib/store/authStore';\r\nimport { logout } from '@/lib/api/clientApi';\r\nimport css from './AuthNavigation.module.css';\r\n\r\nexport default function AuthNavigation() {\r\n  const router = useRouter();\r\n  const queryClient = useQueryClient();\r\n  const { isAuthenticated, user, clearIsAuthenticated } = useAuthStore();\r\n\r\n  const mutation = useMutation({\r\n    mutationFn: logout,\r\n    onSuccess: () => {\r\n      clearIsAuthenticated();\r\n      queryClient.clear(); \r\n      router.push('/sign-in');\r\n    },\r\n    onError: (error: any) => {\r\n      console.error('Logout failed:', error);\r\n      clearIsAuthenticated();\r\n      queryClient.clear();\r\n      router.push('/sign-in');\r\n    }\r\n  });\r\n\r\n  return (\r\n    <>\r\n      {isAuthenticated && user ? (\r\n        <>\r\n          <li className={css.navigationItem}>\r\n            <Link href=\"/profile\" className={css.navigationLink}>\r\n              Profile\r\n            </Link>\r\n          </li>\r\n          <li className={css.navigationItem}>\r\n            <p className={css.userEmail}>{user.email}</p>\r\n            <button\r\n              className={css.logoutButton}\r\n              onClick={() => mutation.mutate()}\r\n              disabled={mutation.isPending}\r\n            >\r\n              Logout\r\n            </button>\r\n          </li>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <li className={css.navigationItem}>\r\n            <Link href=\"/sign-in\" className={css.navigationLink}>\r\n              Login\r\n            </Link>\r\n          </li>\r\n          <li className={css.navigationItem}>\r\n            <Link href=\"/sign-up\" className={css.navigationLink}>\r\n              Sign up\r\n            </Link>\r\n          </li>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAPA;;;;;;;;AASe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,cAAc,IAAA,wMAAc;IAClC,MAAM,EAAE,eAAe,EAAE,IAAI,EAAE,oBAAoB,EAAE,GAAG,IAAA,yIAAY;IAEpE,MAAM,WAAW,IAAA,6LAAW,EAAC;QAC3B,YAAY,iIAAM;QAClB,WAAW;YACT;YACA,YAAY,KAAK;YACjB,OAAO,IAAI,CAAC;QACd;QACA,SAAS,CAAC;YACR,QAAQ,KAAK,CAAC,kBAAkB;YAChC;YACA,YAAY,KAAK;YACjB,OAAO,IAAI,CAAC;QACd;IACF;IAEA,qBACE;kBACG,mBAAmB,qBAClB;;8BACE,8OAAC;oBAAG,WAAW,qKAAG,CAAC,cAAc;8BAC/B,cAAA,8OAAC,uKAAI;wBAAC,MAAK;wBAAW,WAAW,qKAAG,CAAC,cAAc;kCAAE;;;;;;;;;;;8BAIvD,8OAAC;oBAAG,WAAW,qKAAG,CAAC,cAAc;;sCAC/B,8OAAC;4BAAE,WAAW,qKAAG,CAAC,SAAS;sCAAG,KAAK,KAAK;;;;;;sCACxC,8OAAC;4BACC,WAAW,qKAAG,CAAC,YAAY;4BAC3B,SAAS,IAAM,SAAS,MAAM;4BAC9B,UAAU,SAAS,SAAS;sCAC7B;;;;;;;;;;;;;yCAML;;8BACE,8OAAC;oBAAG,WAAW,qKAAG,CAAC,cAAc;8BAC/B,cAAA,8OAAC,uKAAI;wBAAC,MAAK;wBAAW,WAAW,qKAAG,CAAC,cAAc;kCAAE;;;;;;;;;;;8BAIvD,8OAAC;oBAAG,WAAW,qKAAG,CAAC,cAAc;8BAC/B,cAAA,8OAAC,uKAAI;wBAAC,MAAK;wBAAW,WAAW,qKAAG,CAAC,cAAc;kCAAE;;;;;;;;;;;;;;AAQjE","debugId":null}},
    {"offset": {"line": 366, "column": 0}, "map": {"version":3,"sources":["file:///E:/project%20groop/09-auth/components/TanStackProvider/TanStackProvider.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\r\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools';\r\nimport { useState } from 'react';\r\n\r\ninterface TanStackProviderProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst TanStackProvider: React.FC<TanStackProviderProps> = ({ children }) => {\r\n  const [queryClient] = useState(() => new QueryClient({\r\n    defaultOptions: {\r\n      queries: {\r\n        staleTime: 60 * 1000,\r\n        refetchOnWindowFocus: false,\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      {children}\r\n      <ReactQueryDevtools initialIsOpen={false} />\r\n    </QueryClientProvider>\r\n  );\r\n};\r\n\r\nexport default TanStackProvider;"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AAJA;;;;;AAUA,MAAM,mBAAoD,CAAC,EAAE,QAAQ,EAAE;IACrE,MAAM,CAAC,YAAY,GAAG,IAAA,iNAAQ,EAAC,IAAM,IAAI,4LAAW,CAAC;YACnD,gBAAgB;gBACd,SAAS;oBACP,WAAW,KAAK;oBAChB,sBAAsB;gBACxB;YACF;QACF;IAGA,qBACE,8OAAC,6MAAmB;QAAC,QAAQ;;YAC1B;0BACD,8OAAC,0MAAkB;gBAAC,eAAe;;;;;;;;;;;;AAGzC;uCAEe","debugId":null}},
    {"offset": {"line": 411, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/Loader/Loader.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"loader\": \"Loader-module__ciLxHG__loader\",\n  \"loaderWrapper\": \"Loader-module__ciLxHG__loaderWrapper\",\n  \"spin\": \"Loader-module__ciLxHG__spin\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 420, "column": 0}, "map": {"version":3,"sources":["file:///E:/project%20groop/09-auth/components/Loader/Loader.tsx"],"sourcesContent":["'use client';\r\n\r\nimport css from './Loader.module.css';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className={css.loaderWrapper}>\r\n      <div className={css.loader}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIA,MAAM,SAAS;IACb,qBACE,8OAAC;QAAI,WAAW,qJAAG,CAAC,aAAa;kBAC/B,cAAA,8OAAC;YAAI,WAAW,qJAAG,CAAC,MAAM;;;;;;;;;;;AAGhC;uCAEe","debugId":null}},
    {"offset": {"line": 450, "column": 0}, "map": {"version":3,"sources":["file:///E:/project%20groop/09-auth/components/AuthProvider/AuthProvider.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect } from 'react';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { getMe } from '@/lib/api/clientApi';\r\nimport { useAuthStore } from '@/lib/store/authStore';\r\nimport Loader from '../Loader/Loader';\r\n\r\nexport default function AuthProvider({ children }: { children: React.ReactNode }) {\r\n  const { setUser, isAuthenticated } = useAuthStore();\r\n\r\n  const { data, isLoading, isError, isSuccess } = useQuery({\r\n    queryKey: ['user-profile'],\r\n    queryFn: getMe,\r\n    enabled: !isAuthenticated,\r\n    retry: false,\r\n    refetchOnWindowFocus: false,\r\n    refetchOnMount: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n\r\n    if (isSuccess && data) {\r\n      setUser(data);\r\n    }\r\n    else if (isError) {\r\n      setUser(null);\r\n    }\r\n  }, [isSuccess, isError, data, setUser]);\r\n\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS,aAAa,EAAE,QAAQ,EAAiC;IAC9E,MAAM,EAAE,OAAO,EAAE,eAAe,EAAE,GAAG,IAAA,yIAAY;IAEjD,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,IAAA,uLAAQ,EAAC;QACvD,UAAU;YAAC;SAAe;QAC1B,SAAS,gIAAK;QACd,SAAS,CAAC;QACV,OAAO;QACP,sBAAsB;QACtB,gBAAgB;IAClB;IAEA,IAAA,kNAAS,EAAC;QAER,IAAI,aAAa,MAAM;YACrB,QAAQ;QACV,OACK,IAAI,SAAS;YAChB,QAAQ;QACV;IACF,GAAG;QAAC;QAAW;QAAS;QAAM;KAAQ;IAEtC,IAAI,WAAW;QACb,qBAAO,8OAAC,0IAAM;;;;;IAChB;IAEA,qBAAO;kBAAG;;AACZ","debugId":null}}]
}