{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/(private routes)/profile/edit/EditProfilePage.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"actions\": \"EditProfilePage-module__XoJWpq__actions\",\n  \"avatar\": \"EditProfilePage-module__XoJWpq__avatar\",\n  \"cancelButton\": \"EditProfilePage-module__XoJWpq__cancelButton\",\n  \"formTitle\": \"EditProfilePage-module__XoJWpq__formTitle\",\n  \"input\": \"EditProfilePage-module__XoJWpq__input\",\n  \"mainContent\": \"EditProfilePage-module__XoJWpq__mainContent\",\n  \"profileCard\": \"EditProfilePage-module__XoJWpq__profileCard\",\n  \"profileInfo\": \"EditProfilePage-module__XoJWpq__profileInfo\",\n  \"saveButton\": \"EditProfilePage-module__XoJWpq__saveButton\",\n  \"usernameWrapper\": \"EditProfilePage-module__XoJWpq__usernameWrapper\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/ErrorMessage/ErrorMessage.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"error\": \"ErrorMessage-module__bzyCla__error\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA"}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///E:/project%20groop/09-auth/components/ErrorMessage/ErrorMessage.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport css from './ErrorMessage.module.css';\r\n\r\ninterface ErrorMessageProps {\r\n  children?: React.ReactNode;\r\n}\r\n\r\nconst ErrorMessage: React.FC<ErrorMessageProps> = ({\r\n  children = 'Whoops, something went wrong...',\r\n}) => {\r\n  return <p className={css.error}>{children}</p>;\r\n};\r\n\r\nexport default ErrorMessage;"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AASA,MAAM,eAA4C,CAAC,EACjD,WAAW,iCAAiC,EAC7C;IACC,qBAAO,8OAAC;QAAE,WAAW,iKAAG,CAAC,KAAK;kBAAG;;;;;;AACnC;uCAEe","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///E:/project%20groop/09-auth/app/%28private%20routes%29/profile/edit/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { getMe, updateMe } from '@/lib/api/clientApi';\r\nimport Image from 'next/image';\r\nimport css from './EditProfilePage.module.css';\r\nimport Loader from '@/components/Loader/Loader';\r\nimport ErrorMessage from '@/components/ErrorMessage/ErrorMessage';\r\n\r\nexport default function EditProfilePage() {\r\n  const router = useRouter();\r\n  const queryClient = useQueryClient();\r\n  const [username, setUsername] = useState('');\r\n\r\n  const { data: user, isLoading, isError } = useQuery({\r\n    queryKey: ['user-profile'],\r\n    queryFn: getMe,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setUsername(user.username);\r\n    }\r\n  }, [user]);\r\n\r\n  const mutation = useMutation({\r\n    mutationFn: (newUsername: string) => updateMe({ username: newUsername }),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['user-profile'] });\r\n      router.push('/profile');\r\n    },\r\n    onError: (error: any) => {\r\n      alert(error.response?.data?.message || 'Failed to update profile');\r\n    },\r\n  });\r\n\r\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    mutation.mutate(username);\r\n  };\r\n\r\n  if (isLoading) return <Loader />;\r\n  if (isError) return <ErrorMessage>Failed to load user data.</ErrorMessage>;\r\n\r\n  return (\r\n    <main className={css.mainContent}>\r\n      <div className={css.profileCard}>\r\n        <h1 className={css.formTitle}>Edit Profile</h1>\r\n\r\n        {user?.avatar && (\r\n            <Image \r\n              src={user.avatar}\r\n              alt=\"User Avatar\"\r\n              width={120}\r\n              height={120}\r\n              className={css.avatar}\r\n            />\r\n        )}\r\n\r\n        <form className={css.profileInfo} onSubmit={handleSubmit}>\r\n          <div className={css.usernameWrapper}>\r\n            <label htmlFor=\"username\">Username:</label>\r\n            <input \r\n              id=\"username\"\r\n              type=\"text\"\r\n              className={css.input}\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <p>Email: {user?.email}</p>\r\n\r\n          <div className={css.actions}>\r\n            <button type=\"submit\" className={css.saveButton} disabled={mutation.isPending}>\r\n              {mutation.isPending ? 'Saving...' : 'Save'}\r\n            </button>\r\n            <button type=\"button\" className={css.cancelButton} onClick={() => router.push('/profile')}>\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;;AAWe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,cAAc,IAAA,wMAAc;IAClC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,MAAM,EAAE,MAAM,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,IAAA,uLAAQ,EAAC;QAClD,UAAU;YAAC;SAAe;QAC1B,SAAS,gIAAK;IAChB;IAEA,IAAA,kNAAS,EAAC;QACR,IAAI,MAAM;YACR,YAAY,KAAK,QAAQ;QAC3B;IACF,GAAG;QAAC;KAAK;IAET,MAAM,WAAW,IAAA,6LAAW,EAAC;QAC3B,YAAY,CAAC,cAAwB,IAAA,mIAAQ,EAAC;gBAAE,UAAU;YAAY;QACtE,WAAW;YACT,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;iBAAe;YAAC;YAC3D,OAAO,IAAI,CAAC;QACd;QACA,SAAS,CAAC;YACR,MAAM,MAAM,QAAQ,EAAE,MAAM,WAAW;QACzC;IACF;IAEA,MAAM,eAAe,CAAC;QACpB,MAAM,cAAc;QACpB,SAAS,MAAM,CAAC;IAClB;IAEA,IAAI,WAAW,qBAAO,8OAAC,0IAAM;;;;;IAC7B,IAAI,SAAS,qBAAO,8OAAC,sJAAY;kBAAC;;;;;;IAElC,qBACE,8OAAC;QAAK,WAAW,uLAAG,CAAC,WAAW;kBAC9B,cAAA,8OAAC;YAAI,WAAW,uLAAG,CAAC,WAAW;;8BAC7B,8OAAC;oBAAG,WAAW,uLAAG,CAAC,SAAS;8BAAE;;;;;;gBAE7B,MAAM,wBACH,8OAAC,wIAAK;oBACJ,KAAK,KAAK,MAAM;oBAChB,KAAI;oBACJ,OAAO;oBACP,QAAQ;oBACR,WAAW,uLAAG,CAAC,MAAM;;;;;;8BAI3B,8OAAC;oBAAK,WAAW,uLAAG,CAAC,WAAW;oBAAE,UAAU;;sCAC1C,8OAAC;4BAAI,WAAW,uLAAG,CAAC,eAAe;;8CACjC,8OAAC;oCAAM,SAAQ;8CAAW;;;;;;8CAC1B,8OAAC;oCACC,IAAG;oCACH,MAAK;oCACL,WAAW,uLAAG,CAAC,KAAK;oCACpB,OAAO;oCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;sCAI/C,8OAAC;;gCAAE;gCAAQ,MAAM;;;;;;;sCAEjB,8OAAC;4BAAI,WAAW,uLAAG,CAAC,OAAO;;8CACzB,8OAAC;oCAAO,MAAK;oCAAS,WAAW,uLAAG,CAAC,UAAU;oCAAE,UAAU,SAAS,SAAS;8CAC1E,SAAS,SAAS,GAAG,cAAc;;;;;;8CAEtC,8OAAC;oCAAO,MAAK;oCAAS,WAAW,uLAAG,CAAC,YAAY;oCAAE,SAAS,IAAM,OAAO,IAAI,CAAC;8CAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQvG","debugId":null}}]
}