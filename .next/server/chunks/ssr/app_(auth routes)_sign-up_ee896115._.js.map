{"version":3,"sources":["turbopack:///[project]/app/(auth routes)/sign-up/SignUpPage.module.css [app-ssr] (css module)","turbopack:///[project]/app/(auth routes)/sign-up/page.tsx"],"sourcesContent":["__turbopack_context__.v({\n  \"actions\": \"SignUpPage-module__STRJsq__actions\",\n  \"error\": \"SignUpPage-module__STRJsq__error\",\n  \"form\": \"SignUpPage-module__STRJsq__form\",\n  \"formGroup\": \"SignUpPage-module__STRJsq__formGroup\",\n  \"formTitle\": \"SignUpPage-module__STRJsq__formTitle\",\n  \"input\": \"SignUpPage-module__STRJsq__input\",\n  \"mainContent\": \"SignUpPage-module__STRJsq__mainContent\",\n  \"submitButton\": \"SignUpPage-module__STRJsq__submitButton\",\n});\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useMutation } from '@tanstack/react-query';\r\nimport { register } from '@/lib/api/clientApi';\r\nimport { useAuthStore } from '@/lib/store/authStore';\r\nimport css from './SignUpPage.module.css';\r\n\r\nexport default function SignUpPage() {\r\n  const router = useRouter();\r\n  const { setUser } = useAuthStore();\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const mutation = useMutation({\r\n    mutationFn: register,\r\n    onSuccess: (data) => {\r\n      setUser(data.user);\r\n      router.push('/profile');\r\n    },\r\n    onError: (err: any) => {\r\n      setError(err.response?.data?.message || 'An unexpected error occurred during registration.');\r\n    },\r\n  });\r\n\r\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    setError(null);\r\n    const formData = new FormData(event.currentTarget);\r\n    const email = formData.get('email') as string;\r\n    const password = formData.get('password') as string;\r\n\r\n    if (!email || !password) {\r\n        setError(\"Email and password are required.\");\r\n        return;\r\n    }\r\n    \r\n    mutation.mutate({ email, password });\r\n  };\r\n\r\n  return (\r\n    <main className={css.mainContent}>\r\n      <form className={css.form} onSubmit={handleSubmit}>\r\n        <h1 className={css.formTitle}>Sign up</h1>\r\n        <div className={css.formGroup}>\r\n          <label htmlFor=\"email\">Email</label>\r\n          <input id=\"email\" type=\"email\" name=\"email\" className={css.input} required />\r\n        </div>\r\n        <div className={css.formGroup}>\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input id=\"password\" type=\"password\" name=\"password\" className={css.input} required />\r\n        </div>\r\n        <div className={css.actions}>\r\n          <button type=\"submit\" className={css.submitButton} disabled={mutation.isPending}>\r\n            {mutation.isPending ? 'Registering...' : 'Register'}\r\n          </button>\r\n        </div>\r\n        {error && <p className={css.error}>{error}</p>}\r\n      </form>\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":"0BAAA,EAAA,CAAA,CAAA,CACA,QAAA,qCACA,MAAA,mCACA,KAAA,kCACA,UAAA,uCACA,UAAA,uCACA,MAAA,mCACA,YAAA,yCACA,aAAA,yCACA,4CCPA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,SAAE,CAAO,CAAE,CAAG,CAAA,EAAA,EAAA,YAAA,AAAY,IAC1B,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAE5C,EAAW,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,CAC3B,WAAY,EAAA,QAAQ,CACpB,UAAW,AAAC,IACV,EAAQ,EAAK,IAAI,EACjB,EAAO,IAAI,CAAC,WACd,EACA,QAAS,AAAC,IACR,EAAS,EAAI,QAAQ,EAAE,MAAM,SAAW,oDAC1C,CACF,GAiBA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,EAAA,OAAG,CAAC,WAAW,UAC9B,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAW,EAAA,OAAG,CAAC,IAAI,CAAE,SAjBT,AAAD,CAiBoB,GAhBvC,EAAM,cAAc,GACpB,EAAS,MACT,IAAM,EAAW,IAAI,SAAS,EAAM,aAAa,EAC3C,EAAQ,EAAS,GAAG,CAAC,SACrB,EAAW,EAAS,GAAG,CAAC,WAE9B,AAAI,CAAC,GAAU,EAKf,EAAS,EALK,IAKC,AALU,CAKT,OAAE,WAAO,CAAS,GAJ9B,EAAS,mCAKf,YAKM,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAW,EAAA,OAAG,CAAC,SAAS,UAAE,YAC9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAG,CAAC,SAAS,WAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,iBAAQ,UACvB,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,GAAG,QAAQ,KAAK,QAAQ,KAAK,QAAQ,UAAW,EAAA,OAAG,CAAC,KAAK,CAAE,QAAQ,CAAA,CAAA,OAE5E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAG,CAAC,SAAS,WAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,oBAAW,aAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,GAAG,WAAW,KAAK,WAAW,KAAK,WAAW,UAAW,EAAA,OAAG,CAAC,KAAK,CAAE,QAAQ,CAAA,CAAA,OAErF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAG,CAAC,OAAO,UACzB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,KAAK,SAAS,UAAW,EAAA,OAAG,CAAC,YAAY,CAAE,SAAU,EAAS,SAAS,UAC5E,EAAS,SAAS,CAAG,iBAAmB,eAG5C,GAAS,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAG,CAAC,KAAK,UAAG,QAI5C"}