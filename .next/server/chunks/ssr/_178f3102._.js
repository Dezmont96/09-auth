module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},80738,a=>{a.v({error:"ErrorMessage-module__bzyCla__error"})},36681,a=>{"use strict";var b=a.i(87924),c=a.i(80738);a.s(["default",0,({children:a="Whoops, something went wrong..."})=>(0,b.jsx)("p",{className:c.default.error,children:a})])},33095,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return k},getImageProps:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(33354),g=a.r(94915),h=a.r(67161),i=f._(a.r(2305));function j(a){let{props:b}=(0,g.getImgProps)(a,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let k=h.Image},71987,(a,b,c)=>{b.exports=a.r(33095)},38656,a=>{a.v({actions:"EditProfilePage-module__XoJWpq__actions",avatar:"EditProfilePage-module__XoJWpq__avatar",cancelButton:"EditProfilePage-module__XoJWpq__cancelButton",formTitle:"EditProfilePage-module__XoJWpq__formTitle",input:"EditProfilePage-module__XoJWpq__input",mainContent:"EditProfilePage-module__XoJWpq__mainContent",profileCard:"EditProfilePage-module__XoJWpq__profileCard",profileInfo:"EditProfilePage-module__XoJWpq__profileInfo",saveButton:"EditProfilePage-module__XoJWpq__saveButton",usernameWrapper:"EditProfilePage-module__XoJWpq__usernameWrapper"})},23425,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(33217),f=a.i(70025),g=a.i(37927),h=a.i(93505),i=a.i(88508),j=a.i(71987),k=a.i(38656),l=a.i(52331),m=a.i(36681);function n(){let a=(0,d.useRouter)(),n=(0,g.useQueryClient)(),[o,p]=(0,c.useState)(""),{setUser:q}=(0,i.useAuthStore)(),{data:r,isLoading:s,isError:t}=(0,e.useQuery)({queryKey:["user-profile"],queryFn:h.getMe});(0,c.useEffect)(()=>{r&&p(r.username)},[r]);let u=(0,f.useMutation)({mutationFn:a=>(0,h.updateMe)({username:a}),onSuccess:b=>{q(b),n.invalidateQueries({queryKey:["user-profile"]}),a.push("/profile")},onError:a=>{alert(a.response?.data?.message||"Failed to update profile")}});return s?(0,b.jsx)(l.default,{}):t?(0,b.jsx)(m.default,{children:"Failed to load user data."}):(0,b.jsx)("main",{className:k.default.mainContent,children:(0,b.jsxs)("div",{className:k.default.profileCard,children:[(0,b.jsx)("h1",{className:k.default.formTitle,children:"Edit Profile"}),r?.avatar&&(0,b.jsx)(j.default,{src:r.avatar,alt:"User Avatar",width:120,height:120,className:k.default.avatar}),(0,b.jsxs)("form",{className:k.default.profileInfo,onSubmit:a=>{a.preventDefault(),u.mutate(o)},children:[(0,b.jsxs)("div",{className:k.default.usernameWrapper,children:[(0,b.jsx)("label",{htmlFor:"username",children:"Username:"}),(0,b.jsx)("input",{id:"username",type:"text",className:k.default.input,value:o,onChange:a=>p(a.target.value)})]}),(0,b.jsxs)("p",{children:["Email: ",r?.email]}),(0,b.jsxs)("div",{className:k.default.actions,children:[(0,b.jsx)("button",{type:"submit",className:k.default.saveButton,disabled:u.isPending,children:u.isPending?"Saving...":"Save"}),(0,b.jsx)("button",{type:"button",className:k.default.cancelButton,onClick:()=>a.push("/profile"),children:"Cancel"})]})]})]})})}a.s(["default",()=>n])}];

//# sourceMappingURL=_178f3102._.js.map